eX0 History
¯¯¯¯¯¯¯¯¯¯¯
March 26, 2008: A major milestone! The movement code has finally been more or less completed to a level where it never gives you inconsistent behaviour (i.e. snapping) when the network connection is good. Still have to make it capable of handling high choke, ultra high ping, etc. but at least now it never snaps when you join a new team/respawn. :D I'm already thinking about shooting and how to implement it, and it doesn't seem that far off. Of course, there's still a lot of work remaining to be done at this stage, but I can probably finally move on from just the boring movement now. On another more negative note, I've realized today the limitations of MMGR. At first I noticed that eX0ds was crashing on my Linux laptop too, and not just red.cse.yorku.ca. So I've enabled STRESS_TEST in MMGR and it started crashing like crazy! Debugging lead me to MMGR's own internal tables being corrupted during delete calls from CPacket mostly. After some digging around, I came to the conclusion that it had to with nothing othat than multithreading! Of course! I never thought about it, but MMGR is most likely completely NOT thread-safe! No wonder it always crashed whenever two threads were creating CPackets (lots of allocations). This is bad news, as I can no longer rely on MMGR and will either have to abandon it (or go back to no STRESS_TEST and live with the potential crashes), look for another solution or go completely commando. :/ Well, at least the movement code works, right? :P
